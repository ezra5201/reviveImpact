<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Outreach</title>
  <link rel="stylesheet" href="styles.css">
</head>
  
<body>
  <!-- ==========================================================================
       HEADER WILL BE LOADED HERE BY HeaderManager
       ========================================================================== -->
  <!-- Header content will be inserted here automatically -->

<!-- Secondary Action Bar (new) -->
<div class="secondary-action-bar">
    <div class="secondary-action-bar-left">
   
      <a href="outreachRecord.html" class="btn btn-primary" style="text-decoration: none;">New Outreach</a>
    </div>
    <div class="secondary-action-bar-right">
   <!-- You can add additional action buttons or information here if needed -->
    </div>
  </div>

  
  <!-- Table Container -->
  <div class="table-container">
  
    <!-- Scrollable Content -->
    <div class="table-content">
      <div class="table-rows-container">
  
        <!-- Sticky Table Header Row -->
        <div class="table-row">
          <!-- Fixed Columns Header -->
          <div class="fixed-columns">
            <div class="column-header col-date">Date ↓</div>
            <div class="column-header col-location">Location ↓</div>
            <div class="column-header col-client">Client Name ↓</div>
          </div>
  
          <!-- Scrollable Columns Header -->
          <div class="scrollable-columns">
            <div class="column-header col-provider">Provider Name ↓</div>
            <div class="column-header col-services">Services Provided ↓</div>
            <div class="column-header col-referrals">Referrals Provided ↓</div>
            <div class="column-header col-shelter">Connected to Shelter ↓</div>
            <div class="column-header col-transportation">Transportation Provided ↓</div>
            <div class="column-header col-documentation">Documentation Needed ↓</div>
            <div class="column-header col-ot">OT Direct/Indirect ↓</div>
            <div class="column-header col-notes">Notes</div>
          </div>
        </div>
  
        <!-- Row 1 -->
        <div class="table-row">
          <div class="fixed-columns">
            <div class="column-cell col-date">08-10-24</div>
            <div class="column-cell col-location">6th & Union</div>
            <div class="column-cell col-client">SO Darryl Huubbard</div>
          </div>
          <div class="scrollable-columns">
            <div class="column-cell col-provider">Taylor, Redrick</div>
            <div class="column-cell col-services">Peer Navigation<br>Case Management<br>Public Aid</div>
            <div class="column-cell col-referrals">Mental Health</div>
            <div class="column-cell col-shelter">N</div>
            <div class="column-cell col-transportation">N</div>
            <div class="column-cell col-documentation">SS Card</div>
            <div class="column-cell col-ot">N/A</div>
            <div class="column-cell col-notes">Needs a te, voucher for I.D., and housing</div>
          </div>
        </div>
  
        <!-- Row 2 -->
        <div class="table-row">
          <div class="fixed-columns">
            <div class="column-cell col-date">08-10-24</div>
            <div class="column-cell col-location">6th & Union</div>
            <div class="column-cell col-client">SO William Jung</div>
          </div>
          <div class="scrollable-columns">
            <div class="column-cell col-provider">Taylor, Redrick</div>
            <div class="column-cell col-services">Peer Navigation</div>
            <div class="column-cell col-referrals">Mental Health</div>
            <div class="column-cell col-shelter">N</div>
            <div class="column-cell col-transportation">N</div>
            <div class="column-cell col-documentation">SS Card</div>
            <div class="column-cell col-ot">N/A</div>
            <div class="column-cell col-notes">Needs a te, voucher for I.D., and housing</div>
          </div>
        </div>
  
        <!-- Row 3 -->
        <div class="table-row">
          <div class="fixed-columns">
            <div class="column-cell col-date">08-10-24</div>
            <div class="column-cell col-location">6th & Union</div>
            <div class="column-cell col-client">SO Michael Tyus</div>
          </div>
          <div class="scrollable-columns">
            <div class="column-cell col-provider">Taylor, Redrick</div>
            <div class="column-cell col-services">Peer Navigation</div>
            <div class="column-cell col-referrals">Mental Health</div>
            <div class="column-cell col-shelter">N</div>
            <div class="column-cell col-transportation">N</div>
            <div class="column-cell col-documentation">SS Card</div>
            <div class="column-cell col-ot">N/A</div>
            <div class="column-cell col-notes">Needs a te, voucher for I.D., and housing</div>
          </div>
        </div>
  
        <!-- Row 4 -->
        <div class="table-row">
          <div class="fixed-columns">
            <div class="column-cell col-date">08-10-24</div>
            <div class="column-cell col-location">6th & Union</div>
            <div class="column-cell col-client">SO Nicole Crook</div>
          </div>
          <div class="scrollable-columns">
            <div class="column-cell col-provider">Taylor, Redrick</div>
            <div class="column-cell col-services">Peer Navigation</div>
            <div class="column-cell col-referrals">Mental Health</div>
            <div class="column-cell col-shelter">N</div>
            <div class="column-cell col-transportation">N</div>
            <div class="column-cell col-documentation">SS Card</div>
            <div class="column-cell col-ot">N/A</div>
            <div class="column-cell col-notes">Needs a te, voucher for I.D., and housing</div>
          </div>
        </div>
  
        <!-- Row 5 -->
        <div class="table-row">
          <div class="fixed-columns">
            <div class="column-cell col-date">08-10-24</div>
            <div class="column-cell col-location">6th & Union</div>
            <div class="column-cell col-client">SO Myrion Currie</div>
          </div>
          <div class="scrollable-columns">
            <div class="column-cell col-provider">Taylor, Redrick</div>
            <div class="column-cell col-services">Peer Navigation</div>
            <div class="column-cell col-referrals">Mental Health</div>
            <div class="column-cell col-shelter">N</div>
            <div class="column-cell col-transportation">N</div>
            <div class="column-cell col-documentation">SS Card</div>
            <div class="column-cell col-ot">N/A</div>
            <div class="column-cell col-notes">Needs a te, voucher for I.D., and housing</div>
          </div>
        </div>
  
        <!-- Row 6 -->
        <div class="table-row">
          <div class="fixed-columns">
            <div class="column-cell col-date">08-10-24</div>
            <div class="column-cell col-location">6th & Union</div>
            <div class="column-cell col-client">SO Carrie Powell</div>
          </div>
          <div class="scrollable-columns">
            <div class="column-cell col-provider">Tiffany Essenmacher</div>
            <div class="column-cell col-services">Peer Navigation</div>
            <div class="column-cell col-referrals">Mental Health</div>
            <div class="column-cell col-shelter">N</div>
            <div class="column-cell col-transportation">N</div>
            <div class="column-cell col-documentation">SS Card</div>
            <div class="column-cell col-ot">N/A</div>
            <div class="column-cell col-notes">Needs a te, voucher for I.D., and housing</div>
          </div>
        </div>
  
      </div>
    </div>
  </div>
  
  <!-- ==========================================================================
       JAVASCRIPT - External Script Files
       ========================================================================== -->
  
  <!-- Load dependency scripts first -->
  <script src="page-configs.js"></script>
  <script src="header-manager.js"></script>

  <script>
  document.addEventListener('DOMContentLoaded', async function() {
    console.log('Outreach page - DOM Content Loaded');
    
    // Wait a moment to ensure all scripts are loaded
    await new Promise(resolve => setTimeout(resolve, 100));
    
    // Initialize header
    if (window.HeaderManager) {
      try {
        await window.HeaderManager.init();
        console.log('Header loaded successfully for outreach page');
        
        // Update navigation to show OUTREACH as active
        updateNavigationForOutreach();
      } catch (error) {
        console.error('Header initialization failed:', error);
        createFallbackHeaderForOutreach();
      }
    } else {
      console.error('HeaderManager not found');
      createFallbackHeaderForOutreach();
    }
    
    // Initialize table drag scrolling
    initializeTableDragScrolling();
  });

  // Update navigation to show correct active tab
  function updateNavigationForOutreach() {
    const navTabs = document.querySelectorAll('.nav-tab');
    navTabs.forEach(tab => {
      if (tab.textContent.trim() === 'OUTREACH') {
        tab.className = 'nav-tab nav-tab-active';
      } else {
        tab.className = 'nav-tab nav-tab-inactive';
        if (tab.tagName === 'SPAN') {
          // Convert span to anchor for inactive tabs
          const anchor = document.createElement('a');
          anchor.href = getHrefForTab(tab.textContent.trim());
          anchor.className = 'nav-tab nav-tab-inactive';
          anchor.textContent = tab.textContent;
          tab.parentNode.replaceChild(anchor, tab);
        }
      }
    });
  }

  // Get href for navigation tabs
  function getHrefForTab(tabText) {
    switch (tabText) {
      case 'CONTACT LOG': return 'index.html';
      case 'CM/OT': return 'cm-ot.html';
      case 'DASHBOARD': return 'dashboard.html';
      default: return '#';
    }
  }

  // Create fallback header if HeaderManager fails
  function createFallbackHeaderForOutreach() {
    const fallbackHeader = document.createElement('header');
    fallbackHeader.innerHTML = `
      <div class="header-left">
        <div class="logo">
          <img src="ReVive-IMPACT-Logo.png" alt="ReVive IMPACT Logo" class="logo-image">
        </div>
        <nav>
          <a href="index.html" class="nav-tab nav-tab-inactive">CONTACT LOG</a>
          <a href="prospects.html" class="nav-tab nav-tab-inactive">PROSPECTS</a>
          <span class="nav-tab nav-tab-active">OUTREACH</span>
          <a href="cm-ot.html" class="nav-tab nav-tab-inactive">CM/OT</a>
          <a href="clients.html" class="nav-tab nav-tab-inactive">CLIENTS</a>
          <a href="dashboard.html" class="nav-tab nav-tab-inactive">DASHBOARD</a>
        </nav>
      </div>
      <div class="header-right">
        <div class="search-container">
          <input type="text" class="search-input" id="clientSearchInput" placeholder=" ">
          <span class="search-label">Client Search</span>
          <div class="suggestions-container" id="searchSuggestions"></div>
        </div>
        <div class="user-info">
          <span>Andrea Leflore</span>
          <div class="user-avatar"></div>
        </div>
        <button class="sign-out">Sign Out</button>
      </div>
    `;
    document.body.insertBefore(fallbackHeader, document.body.firstChild);
    console.log('Fallback header created for outreach page');
  }

  // Initialize table drag scrolling
  function initializeTableDragScrolling() {
    const tableContent = document.querySelector('.table-content');
    
    if (!tableContent) {
      console.error('Table content element not found');
      return;
    }
    
    let isDown = false;
    let startX;
    let scrollLeft;

    tableContent.addEventListener('mousedown', function(e) {
      isDown = true;
      tableContent.style.cursor = 'grabbing';
      startX = e.pageX - tableContent.offsetLeft;
      scrollLeft = tableContent.scrollLeft;
      e.preventDefault();
    });

    tableContent.addEventListener('mouseleave', function() {
      isDown = false;
      tableContent.style.cursor = 'default';
    });

    tableContent.addEventListener('mouseup', function() {
      isDown = false;
      tableContent.style.cursor = 'default';
    });

    tableContent.addEventListener('mousemove', function(e) {
      if (!isDown) return;
      const x = e.pageX - tableContent.offsetLeft;
      const walk = (x - startX) * 1.5;
      tableContent.scrollLeft = scrollLeft - walk;
    });
  }
  </script>
  
  <style>
  /* Additional CSS for outreach table columns width */
  .col-date { width: 100px; }
  .col-location { width: 150px; }
  .col-client { width: 180px; }
  .col-provider { width: 200px; }
  .col-services { width: 150px; }
  .col-referrals { width: 150px; }
  .col-shelter { width: 150px; }
  .col-transportation { width: 170px; }
  .col-documentation { width: 100px; }
  .col-ot { width: 150px; }
  .col-notes { width: 300px; }
  </style>

</body>
</html
