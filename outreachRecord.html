<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>New Outreach Record</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Non-Scrolling Header -->
  <header>
    <div class="header-left">
      <div class="logo"><img src="ReVive-IMPACT-Logo.png" alt="ReVive IMPACT Logo" class="logo-image"></div>
      <nav>
        <a href="index.html" class="nav-tab nav-tab-inactive">CONTACT LOG</a>
        <a href="prospects.html" class="nav-tab nav-tab-inactive">PROSPECTS</a>
        <a href="outreach.html" class="nav-tab nav-tab-active">OUTREACH</a>
        <a href="dashboard.html" class="nav-tab nav-tab-inactive">DASHBOARD</a>
        <a href="cm.html" class="nav-tab nav-tab-inactive">CM</a>
        <a href="ot.html" class="nav-tab nav-tab-inactive">OT</a>
      </nav>
    </div>

    <div class="header-right">
      <div class="search-container">
        <input type="text" class="search-input" id="clientSearchInput" placeholder=" ">
        <span class="search-label">Client Search</span>
        <div class="suggestions-container" id="searchSuggestions"></div>
      </div>
      <div class="user-info">
        <span>Andrea Leflore</span>
        <div class="user-avatar"></div>
      </div>
      <button class="sign-out">Sign Out</button>
    </div>
  </header>

  <!-- Page Title Section -->
  <div class="page-title-section">
    <h1 class="page-title">New Outreach Record</h1>
    <p class="page-subtitle">Log details about your outreach activity</p>
  </div>

  <div class="main-container">
    <div class="container">
      <form id="outreachForm" onsubmit="handleFormSubmit(this); return false;">
        <!-- Basic Information Section -->
        <div class="form-section">
          <h2 class="section-title">Outreach Information</h2>
          
          <div class="form-group">
            <label for="outreachDate" class="required-field">Date</label>
            <input type="date" id="outreachDate" name="outreachDate" class="form-control" required value="">
          </div>
          
          <div class="form-group">
            <label for="location" class="required-field">Location</label>
            <div class="typeahead-container">
              <input type="text" id="location" name="location" class="form-control" required placeholder="Type to search locations">
              <div id="locationSuggestions" class="suggestions-container"></div>
            </div>
          </div>
          
          <div class="form-group">
            <label for="clientName" class="required-field">Client Name</label>
            <input type="text" id="clientName" name="clientName" class="form-control" required>
          </div>
        </div>
        

<!-- Provider Information Section -->
<div class="form-section">
  <h2 class="section-title">Provider Information</h2>
  
  <div class="form-group">
    <label for="providers" class="required-field">Provider Name</label>
    <select id="providerName" name="providerName" class="form-control" required>
      <option value="">-- Select provider --</option>
      <option value="White, Ashley">White, Ashley</option>
      <option value="Perry, Alexandra">Perry, Alexandra</option>
      <option value="Leflore, Andrea">Leflore, Andrea</option>
      <option value="Brown, Tarik">Brown, Tarik</option>
      <option value="Burks, Ashley">Burks, Ashley</option>
      <option value="Jara, Rolando">Jara, Rolando</option>
      <option value="Taylor, Redrick">Taylor, Redrick</option>
      <option value="Moore, Chezeray">Moore, Chezeray</option>
      <option value="Morris, Dave">Morris, Dave</option>
      <option value="Essenmacher, Tiffany">Essenmacher, Tiffany</option>
      <option value="Pagliaruli, Cassandra">OTS- Pagliaruli, Cassandra</option>
      <option value="Frazier, Danielle">Frazier, Danielle</option>
      <option value="Harvey, Meshon">Harvey, Meshon</option>
      <option value="Hahn, Mickey">Hahn, Mickey</option>
      <option value="Sifuentes, Diana">Sifuentes, Diana</option>
      <option value="Other">Other</option>
    </select>
    <input type="text" id="otherProvider" name="otherProvider" class="form-control" placeholder="Other provider name" style="margin-top: 8px; display: none;">
  </div>
</div>

<!-- OT/OTS Section (Collapsible) -->
<div class="form-section" id="otOtsSection">
  <button type="button" class="md-accordion-header" onclick="toggleSection('otOtsContent', this)">
    <span class="md-accordion-title">OT/OTS</span>
    <span class="md-accordion-icon"></span>
  </button>
  
  <div id="otOtsContent" class="md-accordion-content" style="display: none;">
    <div class="form-group">
      <label for="otProviderName">OT/OTS Provider Name</label>
      <input type="text" id="otProviderName" name="otProviderName" class="form-control">
    </div>
    
    <div class="form-group">
      <label>Intervention Provided</label>
      <div class="multi-select-container">
        <div class="checkbox-group">
          <label><input type="checkbox" name="interventionProvided" value="Health Management"> Health Management</label>
        </div>
        <div class="checkbox-group">
          <label><input type="checkbox" name="interventionProvided" value="Management of Living Space"> Management of Living Space</label>
        </div>
        <div class="checkbox-group">
          <label><input type="checkbox" name="interventionProvided" value="ADLs"> ADLs</label>
        </div>
        <div class="checkbox-group">
          <label><input type="checkbox" name="interventionProvided" value="IADLs"> IADLs</label>
        </div>
        <div class="checkbox-group">
          <label><input type="checkbox" name="interventionProvided" value="Advocacy Housing"> Advocacy Housing</label>
        </div>
        <div class="checkbox-group">
          <label><input type="checkbox" name="interventionProvided" value="Transition"> Transition</label>
        </div>
        <div class="checkbox-group">
          <label><input type="checkbox" name="interventionProvided" value="Other"> Other</label>
          <textarea id="otherIntervention" name="otherIntervention" class="form-control" rows="2" placeholder="Describe other intervention" style="margin-top: 8px; display: none;"></textarea>
        </div>
      </div>
    </div>
    
    <div class="form-group">
      <label>Service Type</label>
      <div class="radio-group">
        <label>
          <input type="radio" name="serviceType" value="Direct">
          Direct
        </label>
      </div>
      <div class="radio-group">
        <label>
          <input type="radio" name="serviceType" value="Indirect">
          Indirect (Advocacy)
        </label>
      </div>
    </div>
    
    <div class="form-group">
      <div class="checkbox-group">
        <label>
          <input type="checkbox" id="followupNeededOT" name="followupNeededOT" value="Yes">
          Follow-up Needed?
        </label>
      </div>
    </div>
    
    <div class="form-group">
      <label for="otOtherNotes">Other (interventions provided / follow-up needed)</label>
      <textarea id="otOtherNotes" name="otOtherNotes" class="form-control" rows="3" placeholder="Enter other interventions or follow-up needs..."></textarea>
    </div>
    
    <div class="form-group">
      <label for="dapNote">DAP Note</label>
      <textarea id="dapNote" name="dapNote" class="form-control" rows="4" placeholder="Enter DAP note..."></textarea>
    </div>
  </div>
</div>

<!-- PN Section (Collapsible) -->
<div class="form-section" id="pnSection">
  <button type="button" class="md-accordion-header" onclick="toggleSection('pnContent', this)">
    <span class="md-accordion-title">PN</span>
    <span class="md-accordion-icon"></span>
  </button>
  
  <div id="pnContent" class="md-accordion-content" style="display: none;">
    <div class="form-group">
      <label for="pnProviderName">Provider Name</label>
      <input type="text" id="pnProviderName" name="pnProviderName" class="form-control">
    </div>
    
    <div class="form-group">
      <label for="pnNote">Note</label>
      <textarea id="pnNote" name="pnNote" class="form-control" rows="4" placeholder="Enter note..."></textarea>
    </div>
  </div>
</div>

        
        <!-- Services Section -->
        <div class="form-section">
          <h2 class="section-title">Services & Resources</h2>
          
          <div class="form-group">
            <label>Services Provided</label>
            <div class="multi-select-container">
              <div class="checkbox-group">
                <label><input type="checkbox" name="servicesProvided" value="Case Management"> Case Management</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="servicesProvided" value="Occupational Therapy"> Occupational Therapy</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="servicesProvided" value="Peer Navigation"> Peer Navigation</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="servicesProvided" value="Housing Navigation"> Housing Navigation</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="servicesProvided" value="Public Aid"> Public Aid</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="servicesProvided" value="Social Work"> Social Work</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="servicesProvided" value="Other"> Other</label>
                <input type="text" id="otherServices" name="otherServices" class="form-control" placeholder="Other services" style="margin-top: 8px; display: none;">
              </div>
            </div>
          </div>
          
          <div class="form-group">
            <label>Referrals Provided</label>
            <div class="multi-select-container">
              <div class="checkbox-group">
                <label><input type="checkbox" name="referralsProvided" value="Medical"> Medical</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="referralsProvided" value="Mental Health"> Mental Health</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="referralsProvided" value="Advocacy"> Advocacy</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="referralsProvided" value="Engagement Center"> Engagement Center</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="referralsProvided" value="Other"> Other</label>
                <input type="text" id="otherReferrals" name="otherReferrals" class="form-control" placeholder="Other referrals" style="margin-top: 8px; display: none;">
              </div>
            </div>
          </div>
          
          <div class="form-group">
            <label for="connectedToShelter">Connected to Shelter</label>
            <select id="connectedToShelter" name="connectedToShelter" class="form-control">
              <option value="">-- Select option --</option>
              <option value="Y">Yes</option>
              <option value="N">No</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="transportationProvided">Transportation Provided</label>
            <select id="transportationProvided" name="transportationProvided" class="form-control">
              <option value="">-- Select option --</option>
              <option value="Y">Yes</option>
              <option value="N">No</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Documentation Needed</label>
            <div class="multi-select-container">
              <div class="checkbox-group">
                <label><input type="checkbox" name="documentationNeeded" value="State ID"> State ID</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="documentationNeeded" value="Social Security Card"> Social Security Card</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="documentationNeeded" value="Coordinated Entry"> Coordinated Entry</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="documentationNeeded" value="Chicago Housing Authority Waitlist"> Chicago Housing Authority Waitlist</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="documentationNeeded" value="SSI/SSDI"> SSI/SSDI</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="documentationNeeded" value="SNAP"> SNAP</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="documentationNeeded" value="Medicaid / Insurance"> Medicaid / Insurance</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="documentationNeeded" value="Homeless Verification Letters"> Homeless Verification Letters</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="documentationNeeded" value="Phone"> Phone</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="documentationNeeded" value="Other"> Other</label>
                <input type="text" id="otherDocumentation" name="otherDocumentation" class="form-control" placeholder="Other documentation" style="margin-top: 8px; display: none;">
              </div>
            </div>
          </div>
          
          <div class="form-group">
            <label for="otDirectIndirect">OT Direct/Indirect</label>
            <select id="otDirectIndirect" name="otDirectIndirect" class="form-control">
              <option value="">-- Select option --</option>
              <option value="Direct">Direct</option>
              <option value="Indirect">Indirect</option>
              <option value="N/A">N/A</option>
            </select>
          </div>
        </div>
        
        <!-- Resources Section -->
        <div class="form-section">
          <h2 class="section-title">Resources Provided</h2>
          
          <div class="form-group">
            <label>Resources Given</label>
            <div class="multi-select-container">
              <div class="checkbox-group">
                <label><input type="checkbox" name="resourcesGiven" value="Food"> Food</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="resourcesGiven" value="Hygiene Kit"> Hygiene Kit</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="resourcesGiven" value="Clothing"> Clothing</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="resourcesGiven" value="Gift Card"> Gift Card</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="resourcesGiven" value="Harm Reduction"> Harm Reduction</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="resourcesGiven" value="Narcan"> Narcan</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="resourcesGiven" value="CTA Cards"> CTA Cards</label>
              </div>
              <div class="checkbox-group">
                <label><input type="checkbox" name="resourcesGiven" value="Other"> Other</label>
                <input type="text" id="otherResources" name="otherResources" class="form-control" placeholder="Other resources" style="margin-top: 8px; display: none;">
              </div>
            </div>
          </div>
        </div>
        
        <!-- Additional Information Section -->
        <div class="form-section">
          <h2 class="section-title">Additional Information</h2>
          
          <div class="form-group">
            <label for="notes">Notes</label>
            <textarea id="notes" name="notes" class="form-control" rows="3" placeholder="Enter any notes, observations, or additional details about this outreach interaction..."></textarea>
          </div>
          
          <div class="form-group">
            <label for="safetyNotes">Safety Notes</label>
            <textarea id="safetyNotes" name="safetyNotes" class="form-control" rows="2" placeholder="Enter any safety concerns or notes..."></textarea>
          </div>
          
          <div class="form-group">
            <label for="followupNeeds">Follow-up Needs</label>
            <textarea id="followupNeeds" name="followupNeeds" class="form-control" rows="2" placeholder="Enter any follow-up needs..."></textarea>
          </div>
        </div>
        
        <!-- Form Buttons -->
        <div class="form-buttons">
          <button type="button" class="btn btn-secondary" onclick="resetForm()">Reset</button>
          <button type="submit" class="btn btn-primary">Submit</button>
        </div>
      </form>
      
      <div id="loadingSection" class="loading">
        <div class="loading-spinner"></div>
        <p>Processing your submission...</p>
      </div>
      
      <div id="resultSection" class="form-result">
        <h3 id="resultTitle"></h3>
        <p id="resultMessage"></p>
        <div id="additionalInfo"></div>
        <button type="button" class="btn btn-primary" onclick="goToOutreachPage()">Back to Outreach</button>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Set default date to today
      const today = new Date();
      const formattedDate = today.toISOString().substr(0, 10);
      document.getElementById('outreachDate').value = formattedDate;
      
      // Toggle "Other" text field visibility for all selects and checkboxes
      document.getElementById('location').addEventListener('change', function() {
        document.getElementById('otherLocation').style.display = 
          this.value === 'Other' ? 'block' : 'none';
      });
      
      document.getElementById('providerName').addEventListener('change', function() {
        document.getElementById('otherProvider').style.display = 
          this.value === 'Other' ? 'block' : 'none';
      });
      
      // Setup toggle for "Other" checkboxes
      setupOtherCheckboxToggle('servicesProvided', 'otherServices');
      setupOtherCheckboxToggle('referralsProvided', 'otherReferrals');
      setupOtherCheckboxToggle('documentationNeeded', 'otherDocumentation');
      setupOtherCheckboxToggle('resourcesGiven', 'otherResources');
      setupOtherCheckboxToggle('interventionProvided', 'otherIntervention');
      
      // Number inputs - prevent negative values
      const numberInputs = document.querySelectorAll('input[type="number"]');
      numberInputs.forEach(input => {
        input.addEventListener('change', function() {
          if (this.value < 0) this.value = 0;
        });
      });
      
      // Set up accordion panels initial state
      const accordionHeaders = document.querySelectorAll('.md-accordion-header');
      accordionHeaders.forEach(header => {
        const contentId = header.getAttribute('onclick').match(/'([^']+)'/)[1];
        const content = document.getElementById(contentId);
        content.style.maxHeight = '0px';
      });
      
      // Add styles for MD3 accordions
      const style = document.createElement('style');
      style.textContent = `
        .md-accordion-header {
          width: 100%;
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 16px 0;
          background: none;
          border: none;
          border-bottom: 1px solid var(--md-outline-variant);
          cursor: pointer;
          text-align: left;
          font-size: var(--md-title-medium-font);
          font-weight: var(--md-title-medium-weight);
          color: var(--md-primary);
          transition: background-color 0.2s ease;
        }
        
        .md-accordion-header:hover {
          background-color: rgba(0, 108, 250, 0.05);
        }
        
        .md-accordion-title {
          margin: 0;
        }
        
        .md-accordion-icon {
          width: 24px;
          height: 24px;
          position: relative;
        }
        
        .md-accordion-icon::before,
        .md-accordion-icon::after {
          content: '';
          position: absolute;
          background-color: var(--md-primary);
          transition: transform 0.3s ease;
        }
        
        .md-accordion-icon::before {
          top: 11px;
          left: 3px;
          width: 18px;
          height: 2px;
        }
        
        .md-accordion-icon::after {
          top: 3px;
          left: 11px;
          width: 2px;
          height: 18px;
        }
        
        .md-accordion-icon.expanded::after {
          transform: rotate(90deg);
        }
        
        .md-accordion-content {
          padding-top: 16px;
          overflow: hidden;
          transition: max-height 0.3s ease;
        }
      `;
      document.head.appendChild(style);
    });
    
    // Helper function to set up "Other" checkbox toggle
    function setupOtherCheckboxToggle(checkboxName, textFieldId) {
      const checkboxes = document.getElementsByName(checkboxName);
      for (let i = 0; i < checkboxes.length; i++) {
        if (checkboxes[i].value === 'Other') {
          checkboxes[i].addEventListener('change', function() {
            document.getElementById(textFieldId).style.display = 
              this.checked ? 'block' : 'none';
          });
        }
      }
    }
    
    // Handle form submission
    function handleFormSubmit(form) {
      // Hide form and show loading indicator
      form.style.display = 'none';
      document.getElementById('loadingSection').style.display = 'block';
      
      // In a real application, this would collect all form data and submit to server
      
      // Simulate form submission with a delay
      setTimeout(function() {
        showSuccess();
      }, 1500);
    }
    
    // Display success message
    function showSuccess() {
      // Hide loading indicator
      document.getElementById('loadingSection').style.display = 'none';
      
      // Show result section
      const resultSection = document.getElementById('resultSection');
      resultSection.style.display = 'block';
      resultSection.className = 'form-result success';
      
      // Update result content
      document.getElementById('resultTitle').textContent = 'Outreach Record Submitted';
      document.getElementById('resultMessage').textContent = 'Your outreach record has been successfully submitted and saved.';
    }
    
    // Reset form fields and UI state
    function resetForm() {
      document.getElementById('outreachForm').reset();
      
      // Reset date to today
      const today = new Date();
      const formattedDate = today.toISOString().substr(0, 10);
      document.getElementById('outreachDate').value = formattedDate;
      
      // Hide all conditional input fields
      document.getElementById('otherLocation').style.display = 'none';
      document.getElementById('otherProvider').style.display = 'none';
      document.getElementById('otherServices').style.display = 'none';
      document.getElementById('otherReferrals').style.display = 'none';
      document.getElementById('otherDocumentation').style.display = 'none';
      document.getElementById('otherResources').style.display = 'none';
      document.getElementById('otherIntervention').style.display = 'none';
      
      // Reset accordion panels state
      const accordionContents = document.querySelectorAll('.md-accordion-content');
      const accordionIcons = document.querySelectorAll('.md-accordion-icon');
      
      accordionContents.forEach(content => {
        content.style.display = 'none';
        content.style.maxHeight = '0px';
      });
      
      accordionIcons.forEach(icon => {
        icon.classList.remove('expanded');
      });
      
      // Show form and hide other sections
      document.getElementById('outreachForm').style.display = 'block';
      document.getElementById('loadingSection').style.display = 'none';
      document.getElementById('resultSection').style.display = 'none';
    }
    
    // Navigate back to the outreach page
    function goToOutreachPage() {
      window.location.href = 'outreach.html';
    }
    
    // Toggle visibility of collapsible sections
    function toggleSection(contentId, headerBtn) {
      const content = document.getElementById(contentId);
      const icon = headerBtn.querySelector('.md-accordion-icon');
      
      if (content.style.display === 'none') {
        content.style.display = 'block';
        icon.classList.add('expanded');
        
        // Animate open with max-height
        setTimeout(() => {
          content.style.maxHeight = content.scrollHeight + 'px';
        }, 10); // Small delay to ensure display:block has taken effect
      } else {
        // Animate closed
        content.style.maxHeight = '0px';
        icon.classList.remove('expanded');
        
        // After animation completes, hide the content
        setTimeout(() => {
          content.style.display = 'none';
        }, 300);
      }
    }
  </script>
</body>
</html>
